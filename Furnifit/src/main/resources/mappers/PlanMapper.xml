<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
                        
<mapper namespace="com.furnifit.plan.dao.PlanDao">

	<!-- 가구 정보 상세보기 -->
	<select id="read" parameterType="int" resultType="Plan">
		SELECT p.plan_id AS "planId",
			   p.email,
			   p.name,
			   p.regdate
		FROM   plans p JOIN planitems i
		  ON   i.plan_id = p.plan_id
		WHERE  i.planitem_id = #{value}
	</select>
	
	<!-- 회원별 배치도목록 리스트 -->
	<select id="listAll" resultType="Plan" parameterType="String">
	
		SELECT p.plan_id AS "planId",
			   p.email,
			   p.name,
			   p.regdate
		FROM   plans p JOIN planitems i
		  ON   i.plan_id = p.plan_id
		WHERE  p.email = #{email}
		
	</select>
	
</mapper>